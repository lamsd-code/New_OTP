<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}">
<head>
    <meta charset="UTF-8">
    <title layout:fragment="pageTitle">Li√™n h·ªá | SkyLand</title>
</head>

<body>
<main layout:fragment="content" class="page-wrapper">

    <!-- INTRO -->
    <section class="intro text-center text-white"
             style="background-image: url('https://bizweb.dktcdn.net/100/328/362/themes/894751/assets/bg_breadcrumb.png?1664350964800');
                    background-size: cover; background-position: center; padding: 60px 0;">
        <h1 class="fw-bold display-5">Li√™n h·ªá</h1>
        <ul class="list-inline mt-3 mb-0">
            <li class="list-inline-item">
                <a th:href="@{/trang-chu}" class="text-white text-decoration-none">Trang ch·ªß</a>
                <span class="mx-1">/</span>
            </li>
            <li class="list-inline-item text-white">Li√™n h·ªá</li>
        </ul>
    </section>

    <!-- TH√îNG TIN V√Ä FORM LI√äN H·ªÜ -->
    <section class="contact py-5">
        <div class="container">
            <div class="row g-5">

                <!-- TH√îNG TIN C√îNG TY -->
                <div class="col-md-6">
                    <h3 class="fw-bold mb-3 text-success">C√¥ng ty C·ªï ph·∫ßn B·∫•t ƒë·ªông s·∫£n SkyLand</h3>
                    <p>
                        ƒê∆∞·ª£c th√†nh l·∫≠p ng√†y <b>01/10/2025</b> v·ªõi kh√°t v·ªçng d·∫´n ƒë·∫ßu trong lƒ©nh v·ª±c b·∫•t ƒë·ªông s·∫£n.
                        Nh·ªù chi·∫øn l∆∞·ª£c r√µ r√†ng v√† t·∫ßm nh√¨n d√†i h·∫°n, SkyLand ƒë√£ ph√°t tri·ªÉn m·∫°nh m·∫Ω, kh·∫≥ng ƒë·ªãnh uy t√≠n
                        tr√™n to√†n qu·ªëc.
                    </p>

                    <ul class="list-unstyled mt-3 text-muted">
                        <li class="mb-2">
                            <i class="fa-solid fa-location-dot text-success me-2"></i>
                            <span>39 Linh ƒê√¥ng, TP. Th·ªß ƒê·ª©c, TP. H·ªì Ch√≠ Minh</span>
                        </li>
                        <li class="mb-2">
                            <i class="fa-solid fa-phone text-success me-2"></i>
                            Hotline: <a href="tel:0922227" class="text-dark text-decoration-none">0922227</a>
                        </li>
                        <li>
                            <i class="fa-solid fa-envelope text-success me-2"></i>
                            Email: <a href="mailto:pdk@gmail.com" class="text-dark text-decoration-none">pdk@gmail.com</a>
                        </li>
                    </ul>
                </div>

                <!-- FORM LI√äN H·ªÜ -->
                <div class="col-md-6">
                    <div class="border rounded-3 p-4 shadow-sm">
                        <h4 class="fw-bold mb-3 text-success">Li√™n h·ªá v·ªõi ch√∫ng t√¥i</h4>

                        <form id="contactForm">
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <input type="text" class="form-control" id="name" placeholder="H·ªç v√† t√™n" required>
                                </div>
                                <div class="col-md-6">
                                    <input type="email" class="form-control" id="email" placeholder="Email" required>
                                </div>
                                <div class="col-md-6">
                                    <input type="text" class="form-control" id="phone" placeholder="S·ªë ƒëi·ªán tho·∫°i" required>
                                </div>
                                <div class="col-md-6">
                                    <input type="text" class="form-control" id="demand" placeholder="Nhu c·∫ßu">
                                </div>
                                <div class="col-12">
                                    <button type="submit" class="btn btn-success w-100 mt-2">G·ª≠i li√™n h·ªá</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <!-- GOOGLE MAP -->
    <section class="map border-top">
        <div class="container py-4">
            <iframe style="width: 100%; height: 450px; border: 0;"
                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3919.577731862711!2d106.7695372142139!3d10.850261760047032!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x31752f8d0e993b05%3A0x8abf4c480f8b822b!2zOTcgTWFuIFRoacOqbiwgUGjDuiBIaeG7h3AgSMaw4budYywgbmjhuq10IHPDumMgVHJ1w6JuIFbEg25nLCBWaeG7h3QgTmFt!5e0!3m2!1sen!2s!4v1652520257601!5m2!1sen!2s"
                    loading="lazy" allowfullscreen></iframe>
        </div>
    </section>

</main>

<!-- SCRIPT G·ª¨I FORM -->
<th:block layout:fragment="scripts">
<script th:src="@{https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js}"></script>
<script th:inline="javascript">
$(function () {
    $('#contactForm').on('submit', function (e) {
        e.preventDefault();

        const data = {
            fullname: $('#name').val().trim(),
            email: $('#email').val().trim(),
            phone: $('#phone').val().trim(),
            demand: $('#demand').val().trim(),
            companyname: 'Ch∆∞a c·∫≠p nh·∫≠t',
            status: 'Ch∆∞a x·ª≠ l√Ω'
        };

        if (!data.fullname || !data.email || !data.phone) {
            alert('‚ö†Ô∏è Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß h·ªç t√™n, email v√† s·ªë ƒëi·ªán tho·∫°i!');
            return;
        }

        console.log("üëâ G·ª≠i ƒë·∫øn backend:", data); // debug

        $.ajax({
            type: 'POST',
            url: '/api/web/contact',
            data: JSON.stringify(data),
            contentType: 'application/json; charset=utf-8',
            success: function (res) {
                console.log("‚úÖ Th√†nh c√¥ng:", res);
                alert('‚úÖ G·ª≠i th√¥ng tin th√†nh c√¥ng!');
                $('#contactForm')[0].reset();
            },
            error: function (xhr) {
                console.error("‚ùå L·ªói g·ª≠i:", xhr.responseText);
                alert('‚ùå G·ª≠i th√¥ng tin th·∫•t b·∫°i, vui l√≤ng th·ª≠ l·∫°i!');
            }
        });
    });
});
</script>
</th:block>

</body>
</html>
